<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>第十二天</title>
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
		}
		a{
			color: #333;
			text-decoration: none;
		}
		#parent {
			width: 400px;
			height: 400px;
			background: red;
		}
		#middle {
			width: 200px;
			height: 200px;
			background: green;
		}
		#son {
			width: 100px;
			height: 100px;
			background: blue;
		}
		#menu {
			display: none;
			width: 100px;
			border: 1px solid #ccc;
			border-bottom: none;
		}
		#menu li {
			line-height: 24px;
			border-bottom: 1px solid #ccc;
		}
	</style>
	<script type="text/javascript" src="common.js"></script>
	<script type="text/javascript">
		window.onload = function () {
			var
				oParent = $('parent'),
				oMiddle = $('middle'),
				oSon	= $('son'),
				oMenu 	= $('menu');

			// 默认的冒泡型
			/*oParent.onclick = function () {
				console.log('我点击了parent');
			}
			oMiddle.onclick = function (ev) {
				var ev = ev || window.event;
				console.log('我点击了middle');

				// 阻止事件流
				if(ev.stopPropagation) {
					ev.stopPropagation();
				} else {
					ev.cancelBubble = true;
				}
			}
			oSon.onclick = function (ev) {
				var ev = ev || window.event;
				console.log('我点击了son');

				// 阻止事件流
				if(ev.stopPropagation) {
					ev.stopPropagation();
				} else {
					ev.cancelBubble = true;
				}
			}*/

			// 捕获型
			/*oParent.addEventListener('click', function () {
				console.log('我点击了parent');
			}, true);
			oMiddle.addEventListener('click', function () {
				console.log('我点击了middle');
			}, true);
			oSon.addEventListener('click', function () {
				console.log('我点击了son');
			}, true);*/


			// 元素同时绑定捕获型事件和冒泡型事件
			/*$('parent').addEventListener('click', function () {
				console.log('parent 冒泡型事件'); // 6
			}, false);
			$('parent').addEventListener('click', function () {
				console.log('parent 捕获型事件'); // 1
			}, true);
			$('middle').addEventListener('click', function () {
				console.log('middle 冒泡型事件'); // 5
			}, false);
			$('middle').addEventListener('click', function () {
				console.log('middle 捕获型事件'); // 2
			}, true);
			$('son').addEventListener('click', function () {
				console.log('son 捕获型事件'); // 3
			}, true);
			$('son').addEventListener('click', function () {
				console.log('son 冒泡型事件'); // 4
			}, false);*/

			// 自定义右键菜单
			document.oncontextmenu = function (ev) {
				var ev = ev || window.event;
				oMenu.style.display = 'block';

				// 阻止浏览器的默认行为
				// return false;

				if(ev.preventDefault) {
					ev.preventDefault();
				} else {
					ev.returnValue = false;
				}		
			}
		}
	</script>
</head>
<body>
	<div id="parent">
		<div id="middle">
			<div id="son"></div>
		</div>
	</div>

	<ul id="menu">
		<li><a href="http://www.baidu.com" target="_blank">百度</a></li>
		<li><a href="http://www.jd.com" target="_blank">京东</a></li>
	</ul>
</body>
</html>